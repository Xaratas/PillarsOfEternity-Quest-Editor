<!DOCTYPE html>
<html>
  <head>
    <script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
	<link rel="import" href="root-data-elements.html">
	<link rel="import" href="flowChartNode-elements.html">
	<link rel="import" href="flowChartLink-element.html">
	<script>
		 document.addEventListener('WebComponentsReady', function() {
			var questStub = '<?xml version="1.0" encoding="utf-8"?>'
+'<QuestData xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">'
+'  <NextNodeID>6</NextNodeID>'
+'  <Nodes>'
+'    <FlowChartNode xsi:type="QuestNode">'
+'      <NodeID>0</NodeID>'
+'      <Comments />'
+'      <PackageID>1</PackageID>'
+'      <ContainerNodeID>-1</ContainerNodeID>'
+'      <Links>'
+'        <FlowChartLink xsi:type="QuestLink">'
+'          <FromNodeID>0</FromNodeID>'
+'          <ToNodeID>1</ToNodeID>'
+'          <PointsToGhost>false</PointsToGhost>'
+'          <ClassExtender>'
+'            <ExtendedProperties />'
+'          </ClassExtender>'
+'          <RequiredToExitObjective>false</RequiredToExitObjective>'
+'        </FlowChartLink>'
+'      </Links>'
+'    </FlowChartNode>'
+'    <FlowChartNode xsi:type="ObjectiveNode">'
+'      <NodeID>1</NodeID>'
+'      <Comments />'
+'      <PackageID>1</PackageID>'
+'      <ContainerNodeID>-1</ContainerNodeID>'
+'      <Links />'
+'    </FlowChartNode>'
+'   </Nodes>'
+'</QuestData>';

			var conversationStub = 
 '<?xml version="1.0" encoding="utf-8"?>'
+'<ConversationData xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">'
+'  <NextNodeID>5</NextNodeID>'
+'  <Nodes>'
+'    <FlowChartNode xsi:type="TalkNode">'
+'      <NodeID>0</NodeID>'
+'      <Comments />'
+'      <PackageID>1</PackageID>'
+'      <ContainerNodeID>-1</ContainerNodeID>'
+'      <Links>'
+'        <FlowChartLink xsi:type="DialogueLink">'
+'          <FromNodeID>0</FromNodeID>'
+'          <ToNodeID>1</ToNodeID>'
+'          <PointsToGhost>false</PointsToGhost>'
+'          <ClassExtender>'
+'            <ExtendedProperties />'
+'          </ClassExtender>'
+'          <RandomWeight>1</RandomWeight>'
+'          <PlayQuestionNodeVO>true</PlayQuestionNodeVO>'
+'          <QuestionNodeTextDisplay>ShowOnce</QuestionNodeTextDisplay>'
+'        </FlowChartLink>'
+'        <FlowChartLink xsi:type="DialogueLink">'
+'          <FromNodeID>0</FromNodeID>'
+'          <ToNodeID>2</ToNodeID>'
+'          <PointsToGhost>false</PointsToGhost>'
+'          <ClassExtender>'
+'            <ExtendedProperties />'
+'          </ClassExtender>'
+'          <RandomWeight>1</RandomWeight>'
+'          <PlayQuestionNodeVO>true</PlayQuestionNodeVO>'
+'          <QuestionNodeTextDisplay>ShowOnce</QuestionNodeTextDisplay>'
+'        </FlowChartLink>'
+'        <FlowChartLink xsi:type="DialogueLink">'
+'          <FromNodeID>0</FromNodeID>'
+'          <ToNodeID>3</ToNodeID>'
+'          <PointsToGhost>false</PointsToGhost>'
+'          <ClassExtender>'
+'            <ExtendedProperties />'
+'          </ClassExtender>'
+'          <RandomWeight>1</RandomWeight>'
+'          <PlayQuestionNodeVO>true</PlayQuestionNodeVO>'
+'          <QuestionNodeTextDisplay>ShowOnce</QuestionNodeTextDisplay>'
+'        </FlowChartLink>'
+'        <FlowChartLink xsi:type="DialogueLink">'
+'          <FromNodeID>0</FromNodeID>'
+'          <ToNodeID>4</ToNodeID>'
+'          <PointsToGhost>false</PointsToGhost>'
+'          <ClassExtender>'
+'            <ExtendedProperties />'
+'          </ClassExtender>'
+'          <RandomWeight>1</RandomWeight>'
+'          <PlayQuestionNodeVO>true</PlayQuestionNodeVO>'
+'          <QuestionNodeTextDisplay>ShowOnce</QuestionNodeTextDisplay>'
+'        </FlowChartLink>'
+'      </Links>'
+'      <ClassExtender>'
+'        <ExtendedProperties />'
+'      </ClassExtender>'
+'      <Conditionals>'
+'        <Operator>And</Operator>'
+'        <Components />'
+'      </Conditionals>'
+'      <OnEnterScripts />'
+'      <OnExitScripts />'
+'      <OnUpdateScripts />'
+'      <NotSkippable>false</NotSkippable>'
+'      <IsQuestionNode>false</IsQuestionNode>'
+'      <IsTempText>false</IsTempText>'
+'      <PlayVOAs3DSound>false</PlayVOAs3DSound>'
+'      <PlayType>CycleLoop</PlayType>'
+'      <Persistence>None</Persistence>'
+'      <NoPlayRandomWeight>0</NoPlayRandomWeight>'
+'      <DisplayType>Conversation</DisplayType>'
+'      <VOFilename />'
+'      <VoiceType />'
+'      <ExcludedSpeakerClasses />'
+'      <ExcludedListenerClasses />'
+'      <IncludedSpeakerClasses />'
+'      <IncludedListenerClasses />'
+'      <ActorDirection />'
+'      <SpeakerGuid>00000000-0000-0000-0000-000000000000</SpeakerGuid>'
+'      <ListenerGuid>b1a8e901-0000-0000-0000-000000000000</ListenerGuid>'
+'    </FlowChartNode>'
+'    <FlowChartNode xsi:type="TalkNode">'
+'      <NodeID>1</NodeID>'
+'      <Comments />'
+'      <PackageID>1</PackageID>'
+'      <ContainerNodeID>-1</ContainerNodeID>'
+'      <Links />'
+'      <ClassExtender>'
+'        <ExtendedProperties />'
+'      </ClassExtender>'
+'      <Conditionals>'
+'        <Operator>And</Operator>'
+'        <Components />'
+'      </Conditionals>'
+'      <OnEnterScripts />'
+'      <OnExitScripts />'
+'      <OnUpdateScripts />'
+'      <NotSkippable>false</NotSkippable>'
+'      <IsQuestionNode>false</IsQuestionNode>'
+'      <IsTempText>false</IsTempText>'
+'      <PlayVOAs3DSound>true</PlayVOAs3DSound>'
+'      <PlayType>Normal</PlayType>'
+'      <Persistence>None</Persistence>'
+'      <NoPlayRandomWeight>0</NoPlayRandomWeight>'
+'      <DisplayType>Bark</DisplayType>'
+'      <VOFilename />'
+'      <VoiceType />'
+'      <ExcludedSpeakerClasses />'
+'      <ExcludedListenerClasses />'
+'      <IncludedSpeakerClasses />'
+'      <IncludedListenerClasses />'
+'      <ActorDirection />'
+'      <SpeakerGuid>00000000-0000-0000-0000-000000000000</SpeakerGuid>'
+'      <ListenerGuid>b1a8e901-0000-0000-0000-000000000000</ListenerGuid>'
+'    </FlowChartNode>'
+'    <FlowChartNode xsi:type="TalkNode">'
+'      <NodeID>2</NodeID>'
+'      <Comments />'
+'      <PackageID>1</PackageID>'
+'      <ContainerNodeID>-1</ContainerNodeID>'
+'      <Links />'
+'      <ClassExtender>'
+'        <ExtendedProperties />'
+'      </ClassExtender>'
+'      <Conditionals>'
+'        <Operator>And</Operator>'
+'        <Components />'
+'      </Conditionals>'
+'      <OnEnterScripts />'
+'      <OnExitScripts />'
+'      <OnUpdateScripts />'
+'      <NotSkippable>false</NotSkippable>'
+'      <IsQuestionNode>false</IsQuestionNode>'
+'      <IsTempText>false</IsTempText>'
+'      <PlayVOAs3DSound>true</PlayVOAs3DSound>'
+'      <PlayType>Normal</PlayType>'
+'      <Persistence>None</Persistence>'
+'      <NoPlayRandomWeight>0</NoPlayRandomWeight>'
+'      <DisplayType>Bark</DisplayType>'
+'      <VOFilename />'
+'      <VoiceType />'
+'      <ExcludedSpeakerClasses />'
+'      <ExcludedListenerClasses />'
+'      <IncludedSpeakerClasses />'
+'      <IncludedListenerClasses />'
+'      <ActorDirection />'
+'      <SpeakerGuid>00000000-0000-0000-0000-000000000000</SpeakerGuid>'
+'      <ListenerGuid>b1a8e901-0000-0000-0000-000000000000</ListenerGuid>'
+'    </FlowChartNode>'
+'    <FlowChartNode xsi:type="TalkNode">'
+'      <NodeID>3</NodeID>'
+'      <Comments />'
+'      <PackageID>1</PackageID>'
+'      <ContainerNodeID>-1</ContainerNodeID>'
+'      <Links />'
+'      <ClassExtender>'
+'        <ExtendedProperties />'
+'      </ClassExtender>'
+'      <Conditionals>'
+'        <Operator>And</Operator>'
+'        <Components />'
+'      </Conditionals>'
+'      <OnEnterScripts />'
+'      <OnExitScripts />'
+'      <OnUpdateScripts />'
+'      <NotSkippable>false</NotSkippable>'
+'      <IsQuestionNode>false</IsQuestionNode>'
+'      <IsTempText>false</IsTempText>'
+'      <PlayVOAs3DSound>true</PlayVOAs3DSound>'
+'      <PlayType>Normal</PlayType>'
+'      <Persistence>None</Persistence>'
+'      <NoPlayRandomWeight>0</NoPlayRandomWeight>'
+'      <DisplayType>Bark</DisplayType>'
+'      <VOFilename />'
+'      <VoiceType />'
+'      <ExcludedSpeakerClasses />'
+'      <ExcludedListenerClasses />'
+'      <IncludedSpeakerClasses />'
+'      <IncludedListenerClasses />'
+'      <ActorDirection />'
+'      <SpeakerGuid>00000000-0000-0000-0000-000000000000</SpeakerGuid>'
+'      <ListenerGuid>b1a8e901-0000-0000-0000-000000000000</ListenerGuid>'
+'    </FlowChartNode>'
+'    <FlowChartNode xsi:type="TalkNode">'
+'      <NodeID>4</NodeID>'
+'      <Comments />'
+'      <PackageID>1</PackageID>'
+'      <ContainerNodeID>-1</ContainerNodeID>'
+'      <Links />'
+'      <ClassExtender>'
+'        <ExtendedProperties />'
+'      </ClassExtender>'
+'      <Conditionals>'
+'        <Operator>And</Operator>'
+'        <Components />'
+'      </Conditionals>'
+'      <OnEnterScripts />'
+'      <OnExitScripts />'
+'      <OnUpdateScripts />'
+'      <NotSkippable>false</NotSkippable>'
+'      <IsQuestionNode>false</IsQuestionNode>'
+'      <IsTempText>false</IsTempText>'
+'      <PlayVOAs3DSound>true</PlayVOAs3DSound>'
+'      <PlayType>Normal</PlayType>'
+'      <Persistence>None</Persistence>'
+'      <NoPlayRandomWeight>0</NoPlayRandomWeight>'
+'      <DisplayType>Bark</DisplayType>'
+'      <VOFilename />'
+'      <VoiceType />'
+'      <ExcludedSpeakerClasses />'
+'      <ExcludedListenerClasses />'
+'      <IncludedSpeakerClasses />'
+'      <IncludedListenerClasses />'
+'      <ActorDirection />'
+'      <SpeakerGuid>00000000-0000-0000-0000-000000000000</SpeakerGuid>'
+'      <ListenerGuid>b1a8e901-0000-0000-0000-000000000000</ListenerGuid>'
+'    </FlowChartNode>'
+'  </Nodes>'
+'  <Bookmarks>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'    <Bookmark>'
+'      <Type>Unassigned</Type>'
+'      <Name />'
+'      <NodeID>-1</NodeID>'
+'      <GhostNodeParentID>-1</GhostNodeParentID>'
+'    </Bookmark>'
+'  </Bookmarks>'
+'  <ClassExtender>'
+'    <ExtendedProperties />'
+'  </ClassExtender>'
+'  <ConversationType>Conversation</ConversationType>'
+'  <Description>Scene description.</Description>'
+'  <SceneLocation>SCENE LOCATION</SceneLocation>'
+'  <SceneTime>SCENE TIME</SceneTime>'
+'  <CharacterMappings />'
+'</ConversationData>';

			
			var questData = new QuestData();
			questData.fromXML(questStub);
			var conversationData = new ConversationData();
			conversationData.fromXML(conversationStub);
// die xml daten müssen beim ready callback bereits vorliegen um es für das template nutzbar zu machen, hmm			
			document.getElementsByTagName("body")[0].appendChild(questData);
			document.getElementsByTagName("body")[0].appendChild(conversationData);

		});

   
	</script>
<script>
 function print_content() {
            // mach das erst auf button click, also sehr spät, das davor dauert …
            console.log(document.getElementsByTagName("questdata-element")[0].toXML());
			console.log(document.getElementsByTagName("conversationdata-element")[0].toXML());
    }
</script>
  </head>
  <body>
	Juhu, ersten Browser Bug getriggert. In FF degenerieren input elemente in drag containern. Seit Jahren.
	https://stackoverflow.com/questions/21680363/prevent-drag-event-to-interfere-with-input-elements-in-firefox-using-html5-drag
    <br />
    <button onclick="print_content()">to XML</button>
  </body>
</html>
