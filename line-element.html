<link rel="import" href="FlowChartLink-behavior.html">
<script>
	QuestLink = Polymer({
		is: "questLink-element",
		extends: "canvas",
        behaviors: [FlowChartLinkBehavior],

		properties: {
			requiredToExitObjective: Boolean
		},

		factoryImpl: function(startElement, endElement) {
			this.startElement = startElement;
			this.endElement = endElement;
			this.connect();
		},
       

		fromXML: function(xml) {

		},

		toXML: function() {
			var xml = '<FlowChartLink xsi:type="QuestLink">'
				+ '<FromNodeID>' + this.startElement.nodeId + '</FromNodeID>'
				+ '<ToNodeID>' + this.endElement.nodeId + '</ToNodeID>'
				+ '<PointsToGhost>false</PointsToGhost>' // todo
				+ '<ClassExtender><ExtendedProperties /></ClassExtender>' // immer leer
                + '<RequiredToExitObjective>' + this.requiredToExitObjective + '</RequiredToExitObjective>'; // TODO
			return xml	+ '</FlowChartLink>';
		}
	});

    DialogueLink = Polymer({
		is: "dialogueLink-element",
		extends: "canvas",
        behaviors: [FlowChartLinkBehavior],

		properties: {
			randomWeight: Number,
            playQuestionNodeVO: Boolean,
            questionNodeTextDisplay: String
		},

		factoryImpl: function(startElement, endElement) {
			this.startElement = startElement;
			this.endElement = endElement;
			this.connect();
		},
       

		fromXML: function(xml) {

		},

		toXML: function() {
			var xml = '<FlowChartLink xsi:type="DialogueLink">'
				+ '<FromNodeID>' + this.startElement.nodeId + '</FromNodeID>'
				+ '<ToNodeID>' + this.endElement.nodeId + '</ToNodeID>'
				+ '<PointsToGhost>false</PointsToGhost>' // todo
				+ '<ClassExtender><ExtendedProperties /></ClassExtender>' // immer leer
			    + '<RandomWeight>' + this.randomWeight + '</RandomWeight>' // todo
                + '<PlayQuestionNodeVO>' + this.playQuestionNodeVO + '</PlayQuestionNodeVO>' // todo
                + '<QuestionNodeTextDisplay>' + this.questionNodeTextDisplay + '</QuestionNodeTextDisplay>'; // todo
			return xml	+ '</FlowChartLink>';
		}
	});
</script>
