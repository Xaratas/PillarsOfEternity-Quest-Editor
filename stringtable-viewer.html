<link rel="import" href="bower_components/iron-input/iron-input.html">
<link rel="import" href="bower_components/iron-signals/iron-signals.html">

<dom-module id="stringtable-viewer">
	<style>
		:host {
			position: fixed;
			bottom: 0;
			left: 0;
			width: 100%;
			z-index: 3000;
		}

		textarea {
			displad: block; 
		}

		textarea[data-show=""] {
			display: none;
		}
	</style>
	<template>
		<iron-signals on-iron-signal-flow-chart-node-selected="flowChartNodeSelected" />
		<span>Selected Node: <span>{{nodeId}}</span></span>
		<input type="checkbox" checked="{{showText::change}}" />
		<input type="checkbox" checked="{{showFemaleText::change}}" />
		<textarea id="text" data-show$="[[showText]]" value="{{defaultText}}"></textarea>
		<textarea id="femaleText" data-show$="[[showFemaleText]]" value="{{femaleText}}"></textarea>
	</template>
</dom-module>

<script>
"use strict";
var StringtableViewer = Polymer({
	is: "stringtable-viewer",
	
	properties: {
		nodeid: Number,
		showText: Boolean,
		showFemaleText: Boolean,

		defaultText: String,
		femaleText: String,

		sourceNode: Object
	},

	showNodeText: function(node) {
		this.sourceNode = node;
		this.nodeId = node.nodeId;
		this.$.text.value = node.defaultString;
		this.$.femaleText.value = node.femaleString;
	},

	flowChartNodeSelected: function(e, data, sender) {
		this.nodeId = data[0];
		this.defaultText = data[1];
		this.femaleText = data[2];
	}
});
</script>
